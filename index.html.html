<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Perubahan Energi - IPA SD</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #e0f7fa;
            text-align: center;
            padding: 20px;
        }
        .game-container {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #00796b;
        }
        .energy-card {
            display: inline-block;
            width: 150px;
            height: 150px;
            margin: 10px;
            background-color: #b2ebf2;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: transform 0.3s;
            vertical-align: top;
        }
        .energy-card:hover {
            transform: scale(1.05);
            background-color: #80deea;
        }
        .energy-card img {
            width: 80px;
            height: 80px;
        }
        .result-area {
            margin: 20px auto;
            padding: 15px;
            background-color: #e8f5e9;
            border-radius: 10px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .arrow {
            font-size: 24px;
            margin: 0 10px;
        }
        .score {
            font-size: 18px;
            color: #00796b;
            margin-top: 10px;
        }
        button {
            background-color: #26a69a;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        button:hover {
            background-color: #00897b;
        }
        .feedback {
            margin-top: 10px;
            font-weight: bold;
            min-height: 24px;
        }
        .correct {
            color: #2e7d32;
        }
        .incorrect {
            color: #c62828;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Game Perubahan Bentuk Energi</h1>
        <p>Pilih bentuk energi awal dan bentuk energi hasil perubahan yang benar!</p>
        
        <div class="score">Skor: <span id="score">0</span></div>
        
        <h2>Bentuk Energi Awal</h2>
        <div id="source-energy">
            <!-- Kartu energi awal akan dimuat di sini -->
        </div>
        
        <div class="result-area">
            <div id="selected-combination">
                <span id="selected-source"></span>
                <span class="arrow">→</span>
                <span id="selected-target"></span>
            </div>
            <div id="feedback" class="feedback"></div>
        </div>
        
        <h2>Bentuk Energi Hasil</h2>
        <div id="target-energy">
            <!-- Kartu energi hasil akan dimuat di sini -->
        </div>
        
        <button id="check-btn">Periksa Jawaban</button>
        <button id="next-btn">Soal Berikutnya</button>
    </div>

    <script>
        // Data perubahan energi
        const energyTransformations = [
            { source: "Energi Listrik", target: "Energi Panas", example: "Setrika listrik" },
            { source: "Energi Listrik", target: "Energi Cahaya", example: "Lampu" },
            { source: "Energi Listrik", target: "Energi Gerak", example: "Kipas angin" },
            { source: "Energi Listrik", target: "Energi Bunyi", example: "Radio" },
            { source: "Energi Kimia", target: "Energi Gerak", example: "Tubuh manusia bergerak" },
            { source: "Energi Kimia", target: "Energi Listrik", example: "Baterai" },
            { source: "Energi Panas", target: "Energi Gerak", example: "Balon udara panas" },
            { source: "Energi Gerak", target: "Energi Listrik", example: "Generator" },
            { source: "Energi Cahaya", target: "Energi Listrik", example: "Panel surya" },
            { source: "Energi Bunyi", target: "Energi Listrik", example: "Mikrofon" }
        ];

        // Ikon untuk setiap jenis energi
        const energyIcons = {
            "Energi Listrik": "⚡",
            "Energi Panas": "🔥",
            "Energi Cahaya": "💡",
            "Energi Gerak": "↔️",
            "Energi Bunyi": "🔊",
            "Energi Kimia": "🧪"
        };

        // Variabel game
        let currentQuestion;
        let selectedSource = null;
        let selectedTarget = null;
        let score = 0;

        // Elemen DOM
        const sourceEnergyEl = document.getElementById('source-energy');
        const targetEnergyEl = document.getElementById('target-energy');
        const selectedSourceEl = document.getElementById('selected-source');
        const selectedTargetEl = document.getElementById('selected-target');
        const feedbackEl = document.getElementById('feedback');
        const scoreEl = document.getElementById('score');
        const checkBtn = document.getElementById('check-btn');
        const nextBtn = document.getElementById('next-btn');

        // Inisialisasi game
        function initGame() {
            generateQuestion();
            updateScore();
            checkBtn.addEventListener('click', checkAnswer);
            nextBtn.addEventListener('click', generateQuestion);
        }

        // Buat pertanyaan baru
        function generateQuestion() {
            // Reset pilihan
            selectedSource = null;
            selectedTarget = null;
            selectedSourceEl.textContent = "";
            selectedTargetEl.textContent = "";
            feedbackEl.textContent = "";
            feedbackEl.className = "feedback";
            
            // Pilih transformasi energi secara acak
            currentQuestion = energyTransformations[Math.floor(Math.random() * energyTransformations.length)];
            
            // Buat array semua jenis energi
            const allEnergies = [...new Set([
                ...energyTransformations.map(t => t.source),
                ...energyTransformations.map(t => t.target)
            ])];
            
            // Acak array energi
            const shuffledEnergies = [...allEnergies].sort(() => 0.5 - Math.random());
            
            // Tampilkan kartu energi awal (ambil 4 termasuk yang benar)
            const sourceOptions = [currentQuestion.source];
            while (sourceOptions.length < 4 && sourceOptions.length < shuffledEnergies.length) {
                const randomEnergy = shuffledEnergies.find(e => !sourceOptions.includes(e));
                if (randomEnergy) sourceOptions.push(randomEnergy);
            }
            
            // Acak lagi
            sourceOptions.sort(() => 0.5 - Math.random());
            
            // Tampilkan kartu
            renderEnergyCards(sourceOptions, sourceEnergyEl, 'source');
            
            // Tampilkan kartu energi target (ambil 4 termasuk yang benar)
            const targetOptions = [currentQuestion.target];
            while (targetOptions.length < 4 && targetOptions.length < shuffledEnergies.length) {
                const randomEnergy = shuffledEnergies.find(e => !targetOptions.includes(e));
                if (randomEnergy) targetOptions.push(randomEnergy);
            }
            
            // Acak lagi
            targetOptions.sort(() => 0.5 - Math.random());
            
            // Tampilkan kartu
            renderEnergyCards(targetOptions, targetEnergyEl, 'target');
        }

        // Render kartu energi
        function renderEnergyCards(energies, container, type) {
            container.innerHTML = '';
            
            energies.forEach(energy => {
                const card = document.createElement('div');
                card.className = 'energy-card';
                card.dataset.energy = energy;
                card.dataset.type = type;
                
                card.innerHTML = `
                    <div style="font-size: 40px;">${energyIcons[energy]}</div>
                    <div>${energy}</div>
                `;
                
                card.addEventListener('click', () => selectEnergy(energy, type));
                container.appendChild(card);
            });
        }

        // Pilih energi
        function selectEnergy(energy, type) {
            if (type === 'source') {
                selectedSource = energy;
                selectedSourceEl.textContent = `${energyIcons[energy]} ${energy}`;
            } else {
                selectedTarget = energy;
                selectedTargetEl.textContent = `${energyIcons[energy]} ${energy}`;
            }
            
            // Reset feedback jika memilih lagi
            feedbackEl.textContent = "";
            feedbackEl.className = "feedback";
        }

        // Periksa jawaban
        function checkAnswer() {
            if (!selectedSource || !selectedTarget) {
                feedbackEl.textContent = "Pilih kedua bentuk energi terlebih dahulu!";
                feedbackEl.className = "feedback incorrect";
                return;
            }
            
            if (selectedSource === currentQuestion.source && selectedTarget === currentQuestion.target) {
                feedbackEl.textContent = `Benar! Contoh: ${currentQuestion.example}`;
                feedbackEl.className = "feedback correct";
                score += 10;
                updateScore();
            } else {
                feedbackEl.textContent = `Masih kurang tepat. Coba lagi!`;
                feedbackEl.className = "feedback incorrect";
            }
        }

        // Update skor
        function updateScore() {
            scoreEl.textContent = score;
        }

        // Mulai game
        initGame();
    </script>
</body>
</html>